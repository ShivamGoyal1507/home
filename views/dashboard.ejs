<!DOCTYPE html>
<html lang="en">
  <!-- Modern User Dashboard -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/stylesheet/style.css" />
  </head>

  <body class="min-h-screen bg-gradient-to-r from-blue-50 to-indigo-100 flex items-center justify-center p-4">
    <div class="max-w-md w-full bg-white rounded-3xl shadow-xl p-6 relative overflow-hidden">
      <h1 class="text-3xl font-bold text-center text-indigo-700 mb-6">
        User Dashboard
      </h1>

      <!-- Profile Image or Placeholder -->
      <% if (user && user.image) { %>
        <div class="flex justify-center mb-4">
          <img src="/images/<%= user.image %>" alt="Profile"
            class="w-28 h-28 rounded-full object-cover border-4 border-indigo-300 shadow-sm" />
        </div>
      <% } else { %>
        <div class="w-28 h-28 bg-gray-300 rounded-full flex items-center justify-center text-white text-sm mx-auto mb-4 shadow-sm">
          No Image
        </div>
      <% } %>

      <!-- User Info -->
      <div class="text-center">
        <h2 class="text-xl font-semibold text-indigo-800">
          <%= user && user.name ? user.name : 'Unknown User' %>
        </h2>
        <p class="text-gray-600 text-sm">Room: <%= user && user.room ? user.room : 'N/A' %></p>
        <p class="text-gray-600 text-sm mb-2">Family Members: <%= user && user.family ? user.family : 'N/A' %></p>
        <p class="text-gray-500 text-sm mb-4">
          Joining Date:
          <% if (user && user.doj) { %>
            <%= new Date(user.doj).toDateString() %>
          <% } else { %>
            Not Available
          <% } %>
        </p>
      </div>

      <!-- Action Buttons -->
      <div class="grid grid-cols-2 gap-4 text-sm">
        <a href="/pay/<%= user.room %>" class="bg-green-500 hover:bg-green-600 text-white py-2 rounded-xl shadow">
          💸 Pay Bill
        </a>
        <a href="/past_bills/<%= user._id %>" class="bg-purple-500 hover:bg-purple-600 text-white py-2 rounded-xl shadow">
          📜 Past Bills
        </a>
        <a href="/meter_reading/<%= user._id %>" class="bg-yellow-400 hover:bg-yellow-500 text-white py-2 rounded-xl shadow">
          ⚡ Upload Reading
        </a>
        <a href="/edit/<%= user._id %>" class="bg-teal-500 hover:bg-teal-600 text-white py-2 rounded-xl shadow">
          ✏️ Edit Profile
        </a>
        <a href="/complain/<%= user._id %>" class="bg-teal-500 hover:bg-teal-600 text-white py-2 rounded-xl shadow">
          📢 Complain
        </a>
        <a href="/notice" class="bg-red-500 hover:bg-teal-600 text-white py-2 rounded-xl shadow">
          📢 Notice
        </a>
      </div>

      <!-- Logout -->
      <div class="text-center mt-6">
        <a href="/logout" class="inline-block bg-gray-900 hover:bg-gray-800 text-white px-6 py-2 rounded-full shadow">
          🚪 Logout
        </a>
      </div>
    </div>
  </body>
</html>